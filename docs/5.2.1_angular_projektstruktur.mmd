flowchart TB
    subgraph PRESENTATION["🖥️ Presentation Layer"]
        direction LR
        IMG_GEN[🖼️ Image Generator]
        SONG_GEN[🎵 Song Generator]
        IMG_VIEW[👁️ Image View]
        SONG_VIEW[🎧 Song View]
        PROFILE[👤 Profile]
        TEMPLATES[📝 Templates]
    end

    subgraph COMPONENT["🧩 Component Layer"]
        direction LR
        HEADER[📱 Header]
        FOOTER[📱 Footer]
        DETAIL_PANEL[📋 Detail Panel]
        AUDIO_PLAYER[🎵 Audio Player]
        PROGRESS[⏳ Progress Overlay]
    end

    subgraph SERVICE["⚙️ Service Layer"]
        direction LR
        API_SVC[🌐 API Services]
        DATA_SVC[💾 Data Services]
        NOTIFY_SVC[🔔 Notification]
        CONFIG_SVC[⚙️ Config]
    end

    subgraph INFRASTRUCTURE["🛠️ Infrastructure Layer"]
        direction LR
        MODELS[📊 Models]
        PIPES[🔄 Pipes]
        GUARDS[🛡️ Guards]
        INTERCEPTORS[🔗 Interceptors]
        AUTH[🔐 Auth]
    end

    subgraph EXTERNAL["🌐 External Systems"]
        direction LR
        BACKEND[🖥️ aiproxysrv API]
        BUILD[📦 Production Build]
    end

    %% Layer Dependencies
    PRESENTATION --> COMPONENT
    COMPONENT --> SERVICE
    SERVICE --> INFRASTRUCTURE
    SERVICE --> EXTERNAL

    %% Styling
    classDef presentationStyle fill:#E8F5E8,stroke:#4CAF50,stroke-width:2px
    classDef componentStyle fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    classDef serviceStyle fill:#FFF3E0,stroke:#FF9800,stroke-width:2px
    classDef infrastructureStyle fill:#FCE4EC,stroke:#E91E63,stroke-width:2px
    classDef externalStyle fill:#F3E5F5,stroke:#9C27B0,stroke-width:2px

    class IMG_GEN,SONG_GEN,IMG_VIEW,SONG_VIEW,PROFILE,TEMPLATES presentationStyle
    class HEADER,FOOTER,DETAIL_PANEL,AUDIO_PLAYER,PROGRESS componentStyle
    class API_SVC,DATA_SVC,NOTIFY_SVC,CONFIG_SVC serviceStyle
    class MODELS,PIPES,GUARDS,INTERCEPTORS,AUTH infrastructureStyle
    class BACKEND,BUILD externalStyle